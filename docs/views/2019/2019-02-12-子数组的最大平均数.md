---
title: 每日一题 -- 连续子数组的最大和
date: 2019-02-12
tags:
 - 算法  
categories: 
 - 算法
---

**[来源：力扣（LeetCode）]('https://leetcode-cn.com/problems/maximum-average-subarray-i')**


## 题目

**给定 n 个整数，找出平均数最大且长度为 k 的连续子数组，并输出该最大平均数。**
```
示例 1: 
输入: nums=  [1,12,-5,-6,50,3], k = 4
输出: 12.75
解释: 最大平均数 (12-5-6+50)/4 = 51/4 = 12.75

注意:
1 <= k <= n <= 30,000。
所给数据范围 [-10,000，10,000]。

```

::: tip 

假设索引从 i 到 i+k 子数组和为 x。要知道索引从 i+1 到 i+k+1 子数组和的和，</br>
只需要从 x 减去 sum[i]，加上 sum[i+k+1] 即可。 根据此方法可以获得长度为 k 的连续子数组的最大和。</br>

比如 [1,2,3,4,5,6] k=4

temp1 = 1 + 2 + 3 + 4

temp2 = temp1 + 5 - 1

::: 
```js

/**
 * @param {number[]} nums
 * @param {number} k
 * @return {number}
 */
var findMaxAverage = function(nums, k) {
      if (1 <= k <= nums.length <= 30000){
        let sum = 0;
        // 先计算 1 - k 的和
        for (let i = 0; i < k; i++) {
            sum += nums[i]
        }
        // 保存一下
        let res = sum;
        // 初始化让i=k, 
        for (let i = k; i < nums.length; i++) {
            // 计算 k+1   然后减去第一个值
            sum += nums[i] - nums[i - k];
            // 比较得到最大值 保存
            res = Math.max(res, sum)
        }
        return res / k;
    }else{
        return k
    }
};

```

### 复杂度分析
- 时间复杂度：O(n)，遍历长度为 n 的数组 nums 所需时间。
- 间复杂度：O(1)，恒定的额外空间。














