---
title: setState 机制  
date: 2018-02-05
tags:
 - 面试 
 - React
categories: 
 - 前端
---

**setState是同步还是异步**

`setState` 只在合成事件和钩子函数中是“异步”的，在原生事件和 `setTimeout` 中都是同步的

+ **合成事件**：就是react 在组件中的onClick等都是属于它自定义的合成事件
+ **原生事件**：比如通过addeventListener添加的，dom中的原生事件

异步的更新机制

`setState` 函数内部调用的 `Component` 的 `updater`(更新器)的 `enqueueSetState` 在操作一个 state 队列 
简而言之 就是 setState调用updater.enqueueSetState 方法